---
const currentPath = Astro.url.pathname;
const _currentPath = currentPath.toLowerCase().replace(/\/$/, '');
import "../styles/HeaderLayout.css";
---

<header class="header fixed w-full top-0 left-0 z-50 border-b py-8 px-7">
	<div class="flex items-center justify-between">

		<div class="flex items-center space-x-2">
			<a href="/">
				<div class="flex items-center space-x-2">
					<img id="brandLogo" src="/KINASIS_logo_red.png" alt="Logo KINASIS" class="w-9 h-9" />
					<span class="brand-title text-lg font-semibold tracking-wide">KINASIS</span>
				</div>
			</a>
		</div>

		<div class="flex items-center">

			<button id="menuToggle" aria-controls="mobileNav" aria-label="Abrir menÃº" aria-expanded="false" class="md:hidden mr-4 p-2 rounded bg-transparent border border-transparent focus:outline-none">
				<svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" class="menu-icon">
					<rect class="line line1" x="3" y="6" width="18" height="2" rx="1" fill="currentColor"></rect>
					<rect class="line line2" x="3" y="11" width="18" height="2" rx="1" fill="currentColor"></rect>
					<rect class="line line3" x="3" y="16" width="18" height="2" rx="1" fill="currentColor"></rect>
				</svg>
			</button>
			<nav class="hidden md:flex space-x-6 nav-links mr-5">
				<a href="/HomePage" class={`nav-link ${((_currentPath === '/homepage') || (_currentPath === '/')) ? 'active' : ''}`}>Sobre nosotros</a>
				<a href="/TeamWorkPage" class={`nav-link ${_currentPath === '/teamworkpage' ? 'active' : ''}`}>Nuestro equipo</a>
				<a href="/WorkPage" class={`nav-link ${_currentPath === '/workpage' ? 'active' : ''}`}>Servicios</a>
				<a href="/TecnologiesPage" class={`nav-link ${_currentPath === '/tecnologiespage' ? 'active' : ''}`}>Tecnologias</a>
				<a href="/ContactPage" class={`nav-link ${_currentPath === '/contactpage' ? 'active' : ''}`}>Contacto</a>
			</nav>

			<div class="flex items-center space-x-3">
				<a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="github-btn px-4 py-1.5 rounded transition-colors">GitHub</a>

				<button
					id="themeToggle"
					aria-label="Cambiar tema"
					class="theme-toggle relative w-10 h-5 rounded-full transition-colors duration-300 flex items-center"
				>
					<span
						id="themeCircle"
						class="theme-toggle-circle absolute left-1 w-3.5 h-3.5 rounded-full transition-all duration-300 transform"
					></span>
				</button>
			</div>

		</div>
	</div>
</header>

<nav id="mobileNav" role="menu" aria-hidden="true" class="nav-links-mobile md:hidden hidden">
	<div class="flex flex-col">
		<a href="/HomePage" role="menuitem" tabindex="-1" class={`nav-link ${((_currentPath === '/homepage') || (_currentPath === '/')) ? 'active' : ''}`}>Sobre nosotros</a>
		<a href="/TeamWorkPage" role="menuitem" tabindex="-1" class={`nav-link ${_currentPath === '/teamworkpage' ? 'active' : ''}`}>Nuestro equipo</a>
		<a href="/WorkPage" role="menuitem" tabindex="-1" class={`nav-link ${_currentPath === '/workpage' ? 'active' : ''}`}>Servicios</a>
		<a href="/TecnologiesPage" role="menuitem" tabindex="-1" class={`nav-link ${_currentPath === '/tecnologiespage' ? 'active' : ''}`}>Tecnologias</a>
		<a href="/ContactPage" role="menuitem" tabindex="-1" class={`nav-link ${_currentPath === '/contactpage' ? 'active' : ''}`}>Contacto</a>
	</div>
</nav>

<script src="/src/js/HeaderLayout.js" defer></script>
